2022.02.22

# 3장 함수

### 작게 만들어라

"모든 함수가 2줄, 3줄, 4줄 정도였다. 각 함수가 너무도 명백했다. 각 함수가 이야기 하나를 표현했다. 각 함수가 너무도 멋지게 다음 무대를 준비했다. 바로 이것이 답이다!" - 43page

- 함수는 20줄도 길다.
- if문/while문/switch문 등에 들어가는 블록은 한줄로 표현되어야 한다.
  <br/>
  <br/>

### 한 가지만 해라

"함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다" - 44page

- 단순히 다른 표현이 아니라 의미 있는 이름으로 다른 함수를 호출할 수 있다면 그 함수는 여러 작업을 하는 셈이다.
- 함수가 확실히 '한 가지' 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다.
  <br/>
  <br/>

### Switch 문

"본질적으로 switch문은 N가지를 처리한다. ... 하지만 각 switch문을 저차원 클래스에 숨기고 절대로 반복하지 않는 방법은 있다." - 47page
<br/>
<br/>

### 서술적인 이름을 사용하라

"이름을 붙일 때는 일관성이 있어야 한다. 모듈 내에서 함수 이름은 같은 문구, 명사, 동사를 사용한다" - 50page

- includeSetupAndTeardownPages, includeSetupPages, includeSuiteSetupPage, includeSetupPage 를 떠올리면 "includeTeardownPages, includeSuiteTearDownPage, includeTeardownPage도 있나요?"라는 질문을 할 수 있다. 당연하다. 짐작하는 대로다.
  <br/>
  <br/>

### 함수 인수

"함수에서 이상적인 인수 개수는 0개다." -50page

- 인수에 질문을 던지는 경우, 인수를 뭔가로 변환해 결과를 반환하는 경우, 이벤트 함수의 경우가 아니면 단항 함수는 가급적 피한다.
- 플래그 함수는 추하다. 왜냐하면 함수가 한꺼번에 여러 가지를 처리한다고 공표하는 셈이니까!
- 이항 함수는 인수가 1개인 함수보다 이해하기 더 어렵다. 프로그램을 짜면서 불가피한 경우도 생긴다. 하지만 가능한 단항 함수로 바꾸도록 애써야 한다.
- 삼항 함수는 신중히 아주 신중히 고려해라.
  <br/>
  <br/>

### 부수 효과를 일으키지 마라

"부수 효과는 거짓말이다. 함수에서 한 가지를 하겠다고 약속하고선 남몰래 다른 짓도 하니까." -54page
<br/>
<br/>

### 명령과 조회를 분리하라

"함수는 뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야 한다." -56page

```javascript
❌ Bad
if(set("username", "heeyeol"))...

✅ Good
if(attributeExists("username")) {
  setAttribute("username", "heeyeol");
  ...
}
```

- bad 사례는 "set"이 명령인지 조회인지 헷갈린다. Good 사례와 같이 조회와 명령을 명확히 분리하는 게 좋다.
  <br/>
  <br/>

### 오류 코드보다 예외를 사용하라

"명령 함수에서 오류 코드를 반환하는 방식은 명령/조회 분리 규칙을 미묘하게 위반한다. ... 오류 코드 대신 예외를 사용하면 오류 처리 코드가 원래 코드에서 분리되므로 코드가 깔끔해진다." -58page

- Try/Catch 블록을 별도 함수로 뽑아내는 편이 좋다.
  <br/>
  <br/>

### 기타

- 반복되는 함수는 따로 빼서 관리한다.
- 구조적 프로그래밍에서 함수는 return문이 하나여야 한다는 원칙이 있다. 하지만 함수의 크기가 작으면 return, break, continue를 여러 차례 사용해도 괜찮다. 하지만 goto문은 피해야 한다.
- 함수는 글짓기와 비슷한다. 초안은 대개 서투르고 어수선하지만 퇴고를 통해 글을 다듬듯이 코드를 다듬고, 함수를 만들고, 이름을 바꾸고, 중복을 제거한다. 메서드를 줄이고 순서를 바꾼다. 때로는 전체 클래스를 쪼개기도 한다.
  <br/>
  <br/>
  <br/>
  <br/>

## 더 공부할 것

- switch문에서 말한 "다형성"은 무엇이고, 어떻게 사용하는거지?
